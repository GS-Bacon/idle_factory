# UIデザインルール

UI実装時に必ず従うルール。

---

## レイアウト基本原則

### 1. 整列（Alignment）

| ルール | 実装 |
|--------|------|
| 複数列レイアウト | `Display::Grid` + `grid_template_columns` |
| 横並び要素は上揃え | `align_items: AlignItems::Start` |
| 縦並び要素は左揃え | デフォルト |
| 中央配置が必要な場合のみ | `justify_content: JustifyContent::Center` |
| 隣接パネルの整列 | CSS Gridで自動整列（marginハードコード禁止） |

### 2. スペーシング

| 要素 | サイズ |
|------|--------|
| スロットサイズ | 54x54px |
| スロット間隔 | 4px |
| パネル間隔 | 20px |
| パネル内パディング | 20px |
| タイトル行の高さ | 25px |
| タイトル下余白 | 10px |
| グリッド揃え用オフセット | 35px（25+10） |

### 3. 色

| 用途 | 色 |
|------|-----|
| パネル背景 | `srgb(0.2, 0.2, 0.2)` |
| オーバーレイ背景 | `srgba(0.0, 0.0, 0.0, 0.7-0.95)` |
| ボタン通常 | `srgb(0.25, 0.25, 0.30)` |
| ボタンホバー | `srgb(0.35, 0.35, 0.42)` |
| ボタン押下 | `srgb(0.20, 0.20, 0.25)` |
| テキスト主要 | `WHITE` |
| テキスト補助 | `srgb(0.7, 0.7, 0.7)` |
| スロット背景 | `srgb(0.15, 0.15, 0.15)` |
| スロットボーダー | `srgb(0.5, 0.5, 0.5)` |

---

## コンポーネント規約

### パネル構造

```
コンテナ（CSS Grid、上揃え）
├── 列1: パネルA（コンテンツ直接配置）
├── 列2: パネルB（コンテンツ直接配置）
└── 列3: パネルC（オプション）
```

### 整列の原則

**禁止事項:**
- `margin`や`padding`でのハードコードによる位置調整
- 空のSpacingノードによる高さ調整
- パネル間の構造不一致（一方にタイトル行があり、他方にない等）

**推奨:**
- CSS Gridの`align_items: AlignItems::Start`で自動整列
- 隣接パネルは同じ構造（タイトル行あり/なしを統一）
- ボタン等は`justify_content: JustifyContent::FlexEnd`で右揃え

### 必須チェックリスト

UIを作成/修正する際は以下を確認：

- [ ] CSS Gridで`align_items: AlignItems::Start`を設定
- [ ] 隣接パネルの構造が一致している（空のSpacingノードがない）
- [ ] marginハードコードで位置調整していない
- [ ] スロットサイズは54x54pxを使用
- [ ] 間隔は定数（SLOT_SIZE, SLOT_GAP）を使用
- [ ] 色はUIスタイル定数を使用

---

## 参照

- `src/ui/inventory_ui.rs` - インベントリUI実装例
- `src/ui/main_menu.rs` - メニューUI実装例
- `patterns-compact.md` - U1-U4デザインパターン
