# Steam特別モード仕様 (Draft)

**ステータス**: 議論中断 - ユーザーとエディタの関わり方を先に検討

---

## 背景

ゲームエディタ（Factory Data Architect）にSteam実績管理機能を追加したい。
ただし、発売版ゲームに内包されるエディタには不要なので切り離しやすくする。

---

## 未決定事項

### 1. 実績の種類
どれを対応するか？
- [ ] 通常実績（条件達成で即解除）
- [ ] プログレス実績（段階的に進捗表示）
- [ ] 隠し実績（解除まで内容非表示）

### 2. トリガー条件
ゲーム内のどのイベントを実績トリガーにするか？
- [ ] クエスト完了
- [ ] アイテム生産数
- [ ] 機械設置数
- [ ] プレイ時間
- [ ] フェーズ到達
- [ ] カスタム条件（Lua等）

### 3. 切り離し方式

**案A: ビルド時フラグ**
```toml
[features]
steam-editor = []
```

**案B: 設定ファイル**
```json
{ "mode": "developer" | "player" }
```

**案C: 別ビルド**
- 開発者用（実績エディタあり）
- プレイヤー用（なし）

### 4. エクスポート形式

**案A: JSON（独自形式）**
```json
{
  "achievements": [
    {
      "id": "first_machine",
      "name": { "ja": "初めての一歩", "en": "First Step" },
      "trigger": { "type": "quest_complete", "quest_id": "tutorial_1" }
    }
  ]
}
```

**案B: VDF（Steamworks形式）**
```vdf
"achievements" { "first_machine" { "name" "First Step" } }
```

---

## 提案した画面構成

```
┌─────────────────────────────────────────────────────────┐
│ [Items] [Recipes] [Quests] ... [🔧Steam] ← 特別モード時のみ │
├─────────────────────────────────────────────────────────┤
│ ┌──────────────┐  ┌─────────────────────────────────┐  │
│ │ 実績一覧     │  │ 実績エディタ                    │  │
│ │ ✓ first_step │  │ ID: first_machine               │  │
│ │ ○ producer   │  │ 名前(ja): 初めての一歩          │  │
│ │ [+ 新規]     │  │ トリガー: [クエスト完了 ▼]      │  │
│ └──────────────┘  └─────────────────────────────────┘  │
├─────────────────────────────────────────────────────────┤
│ [📤 Steamworksにエクスポート]  [✓ バリデーション]        │
└─────────────────────────────────────────────────────────┘
```

---

## 先に検討すべきこと

**ユーザーとエディタの関わり方**:
- エディタは開発者専用？それともプレイヤーも使う？
- プレイヤーがMODを作る場合、どこまでエディタを使わせる？
- 発売版に含めるエディタの範囲は？
- エディタのUIは開発者向け？初心者向け？

---

*作成日: 2025-12-22*
*次回: ユーザーとエディタの関わり方を検討後に再開*
