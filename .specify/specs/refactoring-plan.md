# 仕様詰め直し計画

## 背景

- 初期実装がGeminiで行われ、全体の品質が低い
- モデリングスキルは完成度高いので残す
- それ以外の仕様・実装を詰め直す

## 残すもの

| カテゴリ | 場所 |
|----------|------|
| モデリングスキル | `.specify/memory/modeling-rules.md`, `.claude/commands/generate-model.md`, `tools/blender_scripts/_base.py` |
| 技術スタック | Rust + Bevy 0.15 + Lua 5.4 |
| E2Eテスト基盤 | `src/e2e_test/`, F8-F12キー操作 |

## 詰め直すもの

| カテゴリ | 問題 |
|----------|------|
| コアメカニクス仕様 | 圧縮しすぎて「なぜそうなのか」が消えてる |
| constitution | 「全フェーズdone」は虚偽、優先順位不明瞭 |
| 実装コード | 品質にバラつき |

## Phase

### Phase 1: コア仕様の再定義
- [ ] 「何を作るゲームか」を1ページで定義
- [ ] 最初の30分のプレイフローを具体的に書く
- [ ] 既存specsは参考程度に、ゼロベースで考える

### Phase 2: 実装の品質監査
- [ ] src/の各モジュールをレビュー
- [ ] 問題箇所をリスト化
- [ ] 優先度付け

### Phase 3: 優先実装
- [ ] 仕様に沿って実装を修正/再実装
- [ ] テスト追加

## Phase 1 議論メモ

### コアコンセプト（README.mdより確認済み）

- **差別化**: サバイバルなし、ジェットパック標準、コンベア挙動こだわり、Lua自動化、3Dボクセル自由配置
- **楽しさの核**: 拡張の満足感 + 創造表現 + 眺める快感
- **最終目標**: 宇宙ステーション建造
- **インスピレーション**: Factorio + Satisfactory + Shapez + Minecraft Create

### 最初の30分フロー（検討中）

**提案:**
1. 初期装備: 採掘機、コンベア、ピッケル
2. 採掘機が資源バイオームで無限採掘（資源確保のための手掘り不要）
3. 地形変更用の採掘・設置は可能
4. 最初: 採掘→コンベア→納品を学習
5. 報酬: 採掘機、コンベア、精錬炉
6. 石炭自動採掘→精錬→納品まで自動化

**懸念点（要検討）:**
| # | 指摘 |
|---|------|
| 1 | 報酬が初期装備と被る（数が増える意図？） |
| 2 | 「石炭を精錬」は不自然（鉄鉱石→鉄インゴットの方が直感的） |
| 3 | 納品先が不明（プラットフォーム？クエスト？） |
| 4 | ピッケルの役割が初期フローで使われない |
| 5 | 最初から自動化だと「手動→自動」の対比がない |

**代替案:**
- Step 0: 最初の1個だけ手で拾って納品（5秒）
- Step 1: 「100個納品して」→手動では無理→採掘機+コンベア
- Step 2: 自動化の快感

## 進捗

- 2025-12-26: 計画作成、Phase 1 開始
- 2025-12-26: コアコンセプト確認、最初の30分フロー検討中
