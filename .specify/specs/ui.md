# UI仕様

## 画面一覧

| 画面 | 開き方 | 用途 |
|------|--------|------|
| メインメニュー | 起動時 | ゲーム開始、設定、終了 |
| インゲームHUD | 常時表示 | プレイ中の情報表示 |
| インベントリ | E キー | アイテム管理 |
| 機械UI | 機械を右クリック | 機械の操作・設定 |
| フルマップ | M キー | 全体マップ、ワープ |
| 統計ダッシュボード | Tab キー? | 生産量、電力状況 |
| クエスト画面 | J キー? | クエスト一覧、ツリー表示 |
| 設定画面 | Esc → 設定 | キーバインド、音量等 |
| ポーズメニュー | Esc キー | 一時停止、セーブ、終了 |

---

## HUD（常時表示）

画面上に常時表示される要素。

```
┌─────────────────────────────────────────────────────┐
│ [ミニマップ]                      [クエスト進捗]   │
│                                   ├ 鉄インゴット   │
│                                   │  45/100       │
│                                   └───────────────│
│                                                     │
│                                   [電力状況]       │
│                                   ⚡ 150kW / 200kW │
│                                                     │
│                                                     │
│              [ ホットバー 1-0 ]                    │
│  [1][2][3][4][5][6][7][8][9][0]                    │
└─────────────────────────────────────────────────────┘
```

| 要素 | 位置 | 内容 |
|------|------|------|
| ミニマップ | 左上 | 周囲の地形、機械、資源 |
| クエスト進捗 | 右上 | 現在のクエスト、進捗バー |
| 電力状況 | 右中 | 現在消費 / 総発電量 |
| ホットバー | 下中央 | 10スロット、選択中ハイライト |
| デバッグ情報 | 左上（F3で切替） | FPS、座標、チャンク情報 |

### ミニマップ

| 機能 | 詳細 |
|------|------|
| 表示範囲 | 周囲 100m程度 |
| アイコン表示 | 機械、資源、ワープポイント |
| 回転 | プレイヤーの向きに追従 or 北固定（設定可） |
| ズーム | マウスホイールで調整 |

### クエスト進捗

| 機能 | 詳細 |
|------|------|
| 表示内容 | アクティブクエストの目標と進捗 |
| 複数表示 | 最大3件まで |
| クリック | クエスト画面を開く |

### 電力状況

| 状態 | 表示 |
|------|------|
| 正常 | 緑色 ⚡ 150kW / 200kW |
| 警告（80%超） | 黄色 ⚡ 170kW / 200kW |
| 過負荷 | 赤色点滅 ⚡ 210kW / 200kW |

---

## インベントリ

Minecraft風のスロットベースUI。

```
┌─────────────────────────────────────┐
│ インベントリ                        │
├─────────────────────────────────────┤
│ [  ][  ][  ][  ][  ][  ][  ][  ][  ][  ] │ ← 10列
│ [  ][  ][  ][  ][  ][  ][  ][  ][  ][  ] │
│ [  ][  ][  ][  ][  ][  ][  ][  ][  ][  ] │
│ [  ][  ][  ][  ][  ][  ][  ][  ][  ][  ] │ ← 4行 = 40スロット
├─────────────────────────────────────┤
│ [1][2][3][4][5][6][7][8][9][0]      │ ← ホットバー
└─────────────────────────────────────┘
```

| 仕様 | 値 |
|------|-----|
| スロット数 | 40（本体） + 10（ホットバー） |
| スタック上限 | 999 |
| スロットサイズ | 54×54px |

### 操作

| 操作 | 動作 |
|------|------|
| 左クリック | スタック全体を持つ/置く |
| 右クリック | 1個だけ持つ/置く |
| Shift+左クリック | ホットバー⇔本体へ移動 |
| ダブルクリック | 同種アイテムをまとめる |
| 数字キー | ホットバースロット選択 |
| Q | 選択アイテムを1個捨てる |
| Ctrl+Q | 選択アイテムをスタック捨てる |

---

## 機械UI

機械ごとに異なるUIを表示。共通要素あり。

### 共通レイアウト

```
┌─────────────────────────────────────────┐
│ [機械名]                    [?][×]     │
├────────────────┬────────────────────────┤
│  入力スロット  │  機械固有エリア        │
│  [  ][  ]      │  ・処理進捗バー        │
│                │  ・設定項目            │
│  燃料スロット  │  ・オーバークロック    │
│  [  ]          │                        │
├────────────────┼────────────────────────┤
│  出力スロット  │  モジュールスロット    │
│  [  ][  ]      │  [M][M][M]             │
├────────────────┴────────────────────────┤
│           プレイヤーインベントリ         │
└─────────────────────────────────────────┘
```

### 機械固有要素

| 機械 | 固有要素 |
|------|----------|
| 精錬炉 | 燃焼ゲージ、精錬進捗 |
| 組立機 | レシピ選択、処理進捗 |
| 発電機 | 発電量表示、燃料消費率 |
| スプリッター | 分配モード選択、フィルタ設定 |

---

## フルマップ

探索済みエリアの全体マップ。

| 機能 | 詳細 |
|------|------|
| 表示 | 探索済みエリアのみ（未探索は黒） |
| アイコン | 機械、ワープポイント、クエストマーカー |
| ワープ | ワープポイントをクリックでテレポート |
| ズーム | マウスホイールで調整 |
| パン | ドラッグで移動 |
| マーカー | 右クリックでピン設置 |

### ワープポイント

| 種類 | 設置方法 |
|------|----------|
| スポーン地点 | 自動 |
| ベッド | ベッド設置で追加 |
| テレポーター | テレポーター機械設置 |
| カスタムピン | マップ上で右クリック（ワープ不可、目印のみ） |

---

## 統計ダッシュボード

生産状況と電力のモニタリング。

```
┌─────────────────────────────────────────────────────┐
│ 統計                                               │
├─────────────────────────────────────────────────────┤
│ [生産] [消費] [電力] [履歴]                        │ ← タブ
├─────────────────────────────────────────────────────┤
│ 生産量（過去5分）                                  │
│ ┌──────────────────────────────────────┐           │
│ │ 鉄インゴット    ████████████  120/分 │           │
│ │ 銅インゴット    ██████        60/分  │           │
│ │ 鉄板            ████          40/分  │           │
│ └──────────────────────────────────────┘           │
├─────────────────────────────────────────────────────┤
│ 電力                                               │
│ 発電: 200kW  消費: 150kW  余剰: 50kW              │
│ [発電機一覧] [消費機械一覧]                        │
└─────────────────────────────────────────────────────┘
```

| タブ | 内容 |
|------|------|
| 生産 | アイテム別の生産量/分 |
| 消費 | アイテム別の消費量/分 |
| 電力 | 発電/消費の内訳 |
| 履歴 | 時間経過グラフ |

---

## クエスト画面

### リスト表示

```
┌─────────────────────────────────────────┐
│ クエスト                               │
├─────────────────────────────────────────┤
│ [メイン] [サブ] [完了]                 │
├─────────────────────────────────────────┤
│ ▶ 鉄の時代                             │
│   └ 鉄インゴットを100個納品 (45/100)   │
│                                         │
│ ○ 銅の発見                             │
│   └ 銅鉱石バイオームを見つける         │
├─────────────────────────────────────────┤
│ 報酬: 採掘機×2, コンベア×40            │
└─────────────────────────────────────────┘
```

### ツリー表示

クエストの前提関係を可視化。

```
[チュートリアル] → [鉄の時代] → [自動化の夜明け] → ...
                        ↓
                   [銅の発見] → [電気の時代]
```

---

## 設定画面

| カテゴリ | 設定項目 |
|----------|----------|
| グラフィック | 解像度、フルスクリーン、描画距離、FPS制限 |
| サウンド | マスター、BGM、SE、ボイス |
| 操作 | キーバインド、マウス感度、反転 |
| アクセシビリティ | 色覚モード、UIスケール、字幕 |
| ゲーム | 言語、オートセーブ間隔 |
