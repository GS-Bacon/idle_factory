# コンベア

## 概要

アイテムを自動輸送する基本物流機械。Factorioの両側レーン + Satisfactoryの見た目を目指す。

## 基本仕様

| 項目 | 値 |
|------|-----|
| サイズ | 1×1×1 ブロック |
| レーン | 両側レーン（左右独立） |
| 1レーンあたり容量 | 4アイテム/ブロック |
| 接続 | 隣接ブロックに自動接続 |

## 速度ティア

| ティア | 速度（アイテム/分/レーン） | 合計（両レーン） | 入手時期 |
|--------|---------------------------|-----------------|----------|
| Tier 1 | 30/分 | 60/分 | Tier 1クエスト |
| Tier 2 | 60/分 | 120/分 | Tier 2クエスト |
| Tier 3 | 135/分 | 270/分 | Tier 4クエスト |
| Tier 4 | 270/分 | 540/分 | Tier 6クエスト |

## 形状バリエーション

設置時に自動判定、レンチで手動変更可。

| 形状 | 説明 |
|------|------|
| 直線 | 基本形状 |
| L字カーブ | 90度曲がり |
| T字分岐 | 1入力→2出力、または2入力→1出力 |
| 十字 | 直進と横断が独立（交差） |
| 傾斜 | 1ブロック上下に接続 |

### カーブ時のレーン挙動

| 挙動 | 説明 |
|------|------|
| 内側レーン | 速度維持、経路短い |
| 外側レーン | 速度維持、経路長い（アイテム間隔広がる） |
| レーン維持 | 左レーンは左のまま、右は右のまま |

### 傾斜コンベア

| 項目 | 値 |
|------|-----|
| 最大傾斜 | 1ブロック/1ブロック（45度） |
| 設置方法 | 高低差のあるブロック間に自動判定 |
| 速度 | 水平と同じ（重力影響なし） |

## 合流動作

T字・十字で複数入力がある場合の動作。

| モード | 動作 | 用途 |
|--------|------|------|
| ジッパー合流 | 左右交互にアイテムを受け入れ | デフォルト、均等混合 |
| 優先合流 | 指定方向を優先、詰まったら他方 | メインライン維持 |
| ラウンドロビン | 入力元を順番に切り替え | 厳密な交互 |

## 分配動作

T字・十字で複数出力がある場合の動作。

| モード | 動作 | 用途 |
|--------|------|------|
| ラウンドロビン | 出力先を順番に切り替え | デフォルト |
| 均等分配 | 各出力の在庫を見て均等に | 負荷分散 |
| 優先度分配 | 指定出力を優先、満杯なら次へ | オーバーフロー処理 |
| フィルタ分配 | アイテム種類で振り分け | 仕分け |

## 両側レーン詳細

| 機能 | 説明 |
|------|------|
| レーン独立 | 左右で別アイテム可 |
| サイドローディング | 横から合流時、近い側のレーンに投入 |
| レーン指定出力 | スプリッターで左右を分離可能 |
| レーン合流 | 2本を1本にまとめる時、左右それぞれに |

### サイドローディング図解

```
     [A]
      ↓
[B]→[合流]→[A左/B右]
```

横から来たBは右レーン、正面から来たAは左レーンに入る。

## アンダーグラウンドコンベア

地下を通って障害物を回避。

| 項目 | 値 |
|------|-----|
| 最大距離 | 5ブロック（Tier 1）、10ブロック（Tier 2） |
| 設置 | 入口と出口を設置、自動接続 |
| 速度 | 地上コンベアと同じ |
| 交差 | 地下同士は交差不可、地上とは可 |

## スプリッター

高機能な分岐・合流ブロック。

| 項目 | 値 |
|------|-----|
| サイズ | 2×1×1（コンベア2本分） |
| 入力 | 2レーン（1本のコンベア） |
| 出力 | 左右に分岐（各1本） |
| フィルタ | 特定アイテムを片方に振り分け可能 |
| 優先設定 | 入力/出力の優先方向を設定可能 |

### スプリッター設定UI

| 設定 | 選択肢 |
|------|--------|
| 入力優先 | 左優先 / 右優先 / なし |
| 出力優先 | 左優先 / 右優先 / なし |
| フィルタ | アイテムを指定 → 指定側に出力 |

## 詰まり検出

| 状態 | 表示 |
|------|------|
| 正常 | アイテムが流れる |
| 減速 | アイテム間隔が詰まる（黄色警告） |
| 詰まり | 完全停止（赤警告、アラーム） |

詰まり発生時：
- コンベア上のアイテムが赤く点滅
- 警告パネルに通知
- 信号システムで検知可能

## ビジュアル

| 要素 | 仕様 |
|------|------|
| ベルト表面 | アニメーションで流れる方向を表示 |
| アイテム | ベルト上に3Dモデルで表示 |
| 速度表現 | ティアごとにベルト色が異なる（灰→黄→青→紫） |
| 矢印 | 設置時に方向を示す矢印表示 |

## 操作

| 操作 | 動作 |
|------|------|
| 右クリック | 設置 |
| レンチ+右クリック | 方向回転 |
| レンチ+Shift+右クリック | 形状サイクル（直線→カーブ→傾斜） |
| ピッケル | 撤去（アイテム化） |
| Ctrl+右クリック | 設定コピー |

## 設計思想

| ポイント | 理由 |
|----------|------|
| 両側レーン | Factorioの深さを継承 |
| ジッパー合流デフォルト | 「賢い合流」を標準に |
| 4ティア | 進行に応じたスケールアップ |
| アンダーグラウンド | 配置の自由度確保 |
