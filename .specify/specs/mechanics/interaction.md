# インタラクション仕様

## 概要

Minecraft Mod風の複合クリック操作システム。
操作の結果は「何を持っているか」「どの面をクリックしたか」で変化する。

## クリック操作マトリクス

### 対象: ブロック/地形

| 操作 | 素手 | ピッケル | レンチ | 設置物持ち | 素材持ち |
|------|------|----------|--------|------------|----------|
| 左クリック | - | 掘る | - | - | - |
| 右クリック | - | - | - | 設置 | - |
| Shift+左 | - | 即破壊 | - | - | - |

### 対象: 機械

| 操作 | 素手 | ピッケル | レンチ | 素材持ち | モジュール持ち |
|------|------|----------|--------|----------|----------------|
| 左クリック | 殴る | 掘る/壊す | - | - | - |
| 右クリック | UI開く | - | 回転 | 投入 | 適用 |
| Shift+左 | - | 即破壊 | 撤去 | - | - |
| Shift+右 | スニーク設置 | - | 入出力面変更 | スタック投入 | - |
| Ctrl+右 | - | - | 設定コピー | - | - |
| Ctrl+左 | - | - | 設定ペースト | - | - |

### 対象: コンベア/パイプ/ワイヤー

| 操作 | 素手 | ピッケル | レンチ |
|------|------|----------|--------|
| 左クリック | - | 掘る | - |
| 右クリック | - | - | 回転 |
| Shift+右 | - | - | 接続ON/OFF切替 |
| Ctrl+右 | - | - | 設定コピー |

## レンチの機能

| 機能 | 操作 | 説明 |
|------|------|------|
| 回転 | 右クリック | 機械/コンベアを90度回転 |
| 入出力面変更 | Shift+右 | 入力/出力の面を変更（対応機械のみ） |
| 接続切替 | Shift+右（パイプ/ワイヤー） | 特定方向の接続をON/OFF |
| 設定コピー | Ctrl+右 | 機械の設定をクリップボードにコピー |
| 設定ペースト | Ctrl+左 | クリップボードの設定を適用 |
| 撤去 | Shift+左 | 機械をアイテム化して回収 |

## クリック面による動作

機械によってはクリックした面で動作が変わる。

| 機械 | 面 | 動作 |
|------|-----|------|
| 精錬炉 | 上面 | 入力スロットにアイテム投入 |
| 精錬炉 | 側面 | 燃料スロットにアイテム投入 |
| 精錬炉 | 下面 | 出力を取り出し |
| コンベア | 側面 | サイドローディング設定 |
| パイプ | 任意の面 | その方向の接続ON/OFF |

## 入出力面の設定

### 設定可能な機械

| 機械 | デフォルト | 変更可能 |
|------|------------|----------|
| 精錬炉 | 上:入力、横:燃料、下:出力 | ○ |
| 組立機 | 後:入力、前:出力 | ○ |
| 粉砕機 | 上:入力、下:出力 | ○ |

### 設定不可の機械

| 機械 | 理由 |
|------|------|
| 採掘機 | 出力方向は設置時に決定 |
| コンベア | 方向は形状で決まる |

## アイテム投入

素材を持って機械を右クリックすると、適切なスロットに投入される。

| 状況 | 動作 |
|------|------|
| 単一スロット | そのスロットに投入 |
| 複数スロット | クリック面に対応するスロットに投入 |
| スロット満杯 | 投入失敗（音とエフェクトで通知） |
| Shift+右クリック | スタック全部を投入 |

## モジュール適用

アップグレードモジュールを持って機械を右クリックすると適用。

| モジュール | 効果 |
|------------|------|
| 速度モジュール | 処理速度UP、消費電力UP |
| 効率モジュール | 消費電力DOWN |
| 品質モジュール | 高品質アイテム確率UP |

機械ごとにモジュールスロット数が決まっている（1〜6個）。
