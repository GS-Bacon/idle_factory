# エンチャントシステム

## 概要

ツールと機械に特殊効果を付与するシステム。
Minecraftのエンチャント + ローグライク的なランダム要素。

## XP（経験値）の獲得

| 獲得方法 | XP量 | 備考 |
|----------|------|------|
| クエスト完了 | 100-1000 | メイン報酬 |
| サブクエスト完了 | 50-200 | |
| 納品マイルストーン | 10-50 | 累計納品1000個ごと等 |
| 探索発見 | 20-100 | 新バイオーム、構造物発見 |
| 実績解除 | 50-500 | 初回のみ |

**ストレスフリー設計:** XPは自然にプレイしていれば貯まる。稼ぎ行為は不要。

## エンチャント方法

### 1. エンチャントテーブル（手動）

| 項目 | 仕様 |
|------|------|
| 設置 | 1×1×1ブロック |
| UI | ツール/機械を置く → エンチャント選択 → XP消費 |
| 選択肢 | 3つからランダムに提示 |
| リロール | 追加XPで選択肢を変更可能 |

### 2. エンチャントファウンテン（自動）

| 項目 | 仕様 |
|------|------|
| 設置 | 3×3×2マルチブロック |
| 動作 | ツール/機械を投入 → ランダムエンチャント付与 |
| XP消費 | 自動で最適量を消費 |
| 用途 | 大量のツールを一括エンチャント |

## エンチャント対象

### ツール

| ツール | 対応エンチャント |
|--------|-----------------|
| ピッケル | 速度、耐久、範囲、幸運 |
| レンチ | 速度、範囲、設定コピー強化 |
| ハンマー | 速度、範囲、回収率 |

### 機械

| 機械 | 対応エンチャント |
|------|-----------------|
| 採掘機 | 速度、効率、幸運 |
| 精錬炉 | 速度、効率、品質 |
| 組立機 | 速度、効率、並列 |
| 発電機 | 効率、出力、安定 |

## エンチャント一覧

### ツール用

| 名前 | 最大Lv | 効果 |
|------|--------|------|
| 速度 | 5 | 操作速度 +20%/Lv |
| 耐久 | 3 | 耐久値 +50%/Lv（ツール消耗がある場合） |
| 範囲 | 3 | 操作範囲 +1ブロック/Lv |
| 幸運 | 3 | ドロップ量 +25%/Lv |
| 絹の手触り | 1 | ブロックをそのまま回収 |

### 機械用

| 名前 | 最大Lv | 効果 |
|------|--------|------|
| 速度 | 5 | 処理速度 +10%/Lv（消費電力も+5%/Lv） |
| 効率 | 5 | 消費電力 -10%/Lv |
| 品質 | 3 | 高品質アイテム確率 +5%/Lv |
| 幸運 | 3 | 副産物確率 +10%/Lv |
| 並列 | 2 | 同時処理数 +1/Lv（対応機械のみ） |
| 静音 | 3 | 動作音 -30%/Lv |
| 安定 | 3 | 電力変動耐性 +20%/Lv |

## エンチャントコスト

| レベル | 必要XP | 累計 |
|--------|--------|------|
| Lv 1 | 50 | 50 |
| Lv 2 | 100 | 150 |
| Lv 3 | 200 | 350 |
| Lv 4 | 400 | 750 |
| Lv 5 | 800 | 1550 |

## エンチャントスロット

| 対象 | 最大スロット |
|------|-------------|
| ツール | 3 |
| 小型機械 | 2 |
| 中型機械 | 4 |
| 大型機械 | 6 |

同じエンチャントは重複不可。

## エンチャント除去

| 方法 | 効果 |
|------|------|
| 砥石 | 1つのエンチャントを除去（XP 50%返還） |
| 浄化の泉 | 全エンチャント除去（XP 25%返還） |

## レアエンチャント

低確率でのみ出現する特殊エンチャント。

| 名前 | 対象 | 効果 | 出現率 |
|------|------|------|--------|
| 自動修復 | ツール | 使用しない間に耐久回復 | 5% |
| 連鎖 | 採掘機 | 隣接資源も採掘 | 3% |
| 倍増 | 精錬炉 | 5%で出力2倍 | 5% |
| 永続 | 全機械 | 電力0でも低速稼働 | 2% |

## ストレスフリー設計

| 設計 | 理由 |
|------|------|
| XPはクエストで十分貯まる | 稼ぎプレイ不要 |
| ガチャだが選択肢あり | 完全ランダムではない |
| 除去・付け替え可能 | 失敗しても取り返せる |
| 機械にも適用 | ツールだけでなく工場全体が強化 |

## UI

### エンチャントテーブル画面

```
┌─────────────────────────────────────────┐
│ エンチャント                            │
├─────────────────────────────────────────┤
│ [ピッケル Lv2]     所持XP: 850          │
│  └ 速度 Lv2                             │
│  └ (空きスロット)                       │
│  └ (空きスロット)                       │
├─────────────────────────────────────────┤
│ 候補:                                   │
│ ┌─────────┐ ┌─────────┐ ┌─────────┐    │
│ │ 範囲 +1 │ │ 幸運 Lv1│ │ 速度 Lv3│    │
│ │ 100 XP  │ │ 50 XP   │ │ 200 XP  │    │
│ └─────────┘ └─────────┘ └─────────┘    │
│                                         │
│ [リロール: 30 XP]                       │
└─────────────────────────────────────────┘
```

## 設計思想

| ポイント | 理由 |
|----------|------|
| XPはクエスト報酬がメイン | 進行と連動、余計な作業不要 |
| 選択肢制 | 完全ランダムより納得感 |
| 機械もエンチャント可 | 工場最適化の新しい軸 |
| 除去可能 | やり直しOKでストレス軽減 |
