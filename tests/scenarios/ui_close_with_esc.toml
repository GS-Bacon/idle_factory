# 全UIをESCで閉じるテスト
name = "Close All UIs with ESC"
description = "各UIがESCで閉じられることを確認"

# 初期状態: ゲームプレイ中
[[steps]]
action = "get_state"

[[steps]]
action = "assert"
params = { condition = "ui_state == Gameplay" }

# === インベントリ ===
[[steps]]
action = "send_input"
params = { action = "ToggleInventory" }

[[steps]]
action = "wait"
params = { ms = 100 }

[[steps]]
action = "assert"
params = { condition = "ui_state == Inventory" }

[[steps]]
action = "send_input"
params = { action = "CloseUI" }

[[steps]]
action = "wait"
params = { ms = 100 }

[[steps]]
action = "assert"
params = { condition = "ui_state == Gameplay" }

# === コマンド入力 ===
[[steps]]
action = "send_input"
params = { action = "OpenCommand" }

[[steps]]
action = "wait"
params = { ms = 100 }

[[steps]]
action = "assert"
params = { condition = "ui_state == Command" }

[[steps]]
action = "send_input"
params = { action = "CloseUI" }

[[steps]]
action = "wait"
params = { ms = 100 }

[[steps]]
action = "assert"
params = { condition = "ui_state == Gameplay" }
