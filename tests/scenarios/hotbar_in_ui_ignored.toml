name = "UI表示中のホットバー無効"
description = "UI表示中にホットバーキーが無効"

[[steps]]
action = "get_state"

[[steps]]
action = "assert"
params = { condition = "ui_state == Gameplay" }

[[steps]]
action = "send_input"
params = { action = "ToggleInventory" }

[[steps]]
action = "wait"
params = { ms = 100 }

[[steps]]
action = "get_state"

[[steps]]
action = "assert"
params = { condition = "ui_state == Inventory" }

# ホットバーキーを押してもインベントリのまま
[[steps]]
action = "send_input"
params = { action = "Hotbar1" }

[[steps]]
action = "wait"
params = { ms = 100 }

[[steps]]
action = "get_state"

[[steps]]
action = "assert"
params = { condition = "ui_state == Inventory" }

# Hotbar5も試す
[[steps]]
action = "send_input"
params = { action = "Hotbar5" }

[[steps]]
action = "wait"
params = { ms = 100 }

[[steps]]
action = "get_state"

[[steps]]
action = "assert"
params = { condition = "ui_state == Inventory" }

# インベントリを閉じる
[[steps]]
action = "send_input"
params = { action = "ToggleInventory" }

[[steps]]
action = "wait"
params = { ms = 100 }

[[steps]]
action = "get_state"

[[steps]]
action = "assert"
params = { condition = "ui_state == Gameplay" }
