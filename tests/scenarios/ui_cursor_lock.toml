# UI表示時のカーソル状態テスト (CAD-style)
# CADスタイルでは常にカーソルが表示される

name = "CADスタイル: カーソル常時表示"
description = "CADスタイルではカーソルが常に表示されることを確認"

# 初期状態: ゲームプレイ中、カーソルは常にアンロック
[[steps]]
action = "get_state"

[[steps]]
action = "assert"
params = { condition = "ui_state == Gameplay" }

[[steps]]
action = "assert"
params = { condition = "cursor_locked == false" }

# インベントリを開く
[[steps]]
action = "send_input"
params = { action = "ToggleInventory" }

[[steps]]
action = "wait"
params = { ms = 100 }

# インベントリ表示中もカーソルアンロック
[[steps]]
action = "get_state"

[[steps]]
action = "assert"
params = { condition = "ui_state == Inventory" }

[[steps]]
action = "assert"
params = { condition = "cursor_locked == false" }

# インベントリを閉じる
[[steps]]
action = "send_input"
params = { action = "ToggleInventory" }

[[steps]]
action = "wait"
params = { ms = 100 }

# ゲームプレイに戻ってもカーソルアンロック
[[steps]]
action = "get_state"

[[steps]]
action = "assert"
params = { condition = "ui_state == Gameplay" }

[[steps]]
action = "assert"
params = { condition = "cursor_locked == false" }
