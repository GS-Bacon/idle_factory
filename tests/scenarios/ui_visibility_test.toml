# UI可視性テスト
name = "UI Visibility Test"
description = "UIElementTagが正しく付与され、test.get_ui_elementsでUI要素が取得できることを確認"

# 初期状態を確認（Gameplay）
[[steps]]
action = "get_state"

[[steps]]
action = "assert"
params = { condition = "ui_state == Gameplay" }

# Hotbarが表示されていることを確認
[[steps]]
action = "assert_ui"
params = { element_id = "base:hotbar", property = "visible", expect = true }

# PauseMenuが非表示であることを確認
[[steps]]
action = "assert_ui"
params = { element_id = "base:pause_menu", property = "visible", expect = false }

# InventoryPanelが非表示であることを確認
[[steps]]
action = "assert_ui"
params = { element_id = "base:inventory_panel", property = "visible", expect = false }

# インベントリを開く
[[steps]]
action = "send_input"
params = { action = "ToggleInventory" }

[[steps]]
action = "wait"
params = { ms = 100 }

[[steps]]
action = "assert"
params = { condition = "ui_state == Inventory" }

# InventoryPanelが表示されていることを確認
[[steps]]
action = "assert_ui"
params = { element_id = "base:inventory_panel", property = "visible", expect = true }

# 後片付け: インベントリを閉じる
[[steps]]
action = "send_input"
params = { action = "ToggleInventory" }

[[steps]]
action = "wait"
params = { ms = 100 }

[[steps]]
action = "assert"
params = { condition = "ui_state == Gameplay" }
