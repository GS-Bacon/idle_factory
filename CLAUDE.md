# Claude Code メモリ

## 作業ルール
- 作業中のログは出力禁止
- 作業終了時、最後に結果を短く報告
- 機能を実装した場合や変更した場合は適宜テストを書いて通るまで修正
- 変更は適宜コミット、コミットメッセージは日本語で
- プッシュはユーザーの指示があるまで実行しない
- **作業が終わるまでユーザーに続行確認を求めない（中断せず最後まで完了させる）**
- **実装完了時や失敗時は`.specify/memory/changelog.md`にレポートを追記する**
- **テスト前にClippyでリンターチェックを実行する（`cargo clippy -- -D warnings`）**
- **ユーザーの指示があれば、自動操作でユーザーがプレイしそうな操作を可能な限り実行してテストする**
- **エディタ起動中はログを監視し、クラッシュ時はログを保存して解析する**

## 作業開始時に読むファイル（トークン最適化済み）

### 必須（常に読む）
1. `API_REFERENCE.md` - 関数・構造体・コンポーネント一覧

### 状況に応じて読む
| ファイル | 用途 | 行数 |
|---------|------|------|
| `.specify/memory/constitution.md` | プロジェクト原則 | 300 |
| `.specify/memory/changelog.md` | 最新の開発履歴 | 90 |
| `.specify/memory/patterns-compact.md` | 52パターン（圧縮版） | 180 |
| `.specify/specs/index-compact.md` | 全仕様集約 | 150 |
| `.claude/skills/index.md` | スキル統合版 | 150 |

### 詳細が必要な場合のみ
- `.specify/specs/*.md` - 個別レポート（各400-500行）
- `src/**/*.rs` - ソースコード

**原則: 圧縮版を先に読み、詳細が必要な場合のみ元ファイルを参照**

## README.mdの書き方
- **簡素に保つ**: ビルド手順、技術詳細、連絡先は省略（配布予定なし）
- **AIで作っていることを明示**: 冒頭に「🤖 AI開発プロジェクト」と記載
- **重点的に書く内容**:
  - AI駆動開発の特徴（Claude Code活用、仕様駆動開発、デザインパターン）
  - エディタとModシステムによる柔軟なゲーム体験
  - ベストプラクティスと工夫（アーキテクチャ、品質保証）
  - ゲーム概要とコアコンセプト
  - 実装済み機能（簡潔に）
  - 今後の予定（簡潔に）
  - 技術スタック（最小限）
- **含めない内容**:
  - 操作方法（Wikiに記載）
  - ビルド手順
  - 開発環境セットアップ詳細
  - プロジェクト構成詳細
  - コントリビューションガイド
  - 連絡先・謝辞
