[English version](Getting-Started)

# はじめに

5分で最初のModを作成しましょう。

---

## 必要なもの

- Idle Factoryゲーム本体
- テキストエディタ（VS Code、メモ帳など）

---

## チュートリアル: ダイヤモンドアイテムを追加

### Step 1: Modフォルダを作成

ゲームディレクトリに `mods/my_first_mod/` フォルダを作成します。

```
mods/
└── my_first_mod/
    ├── mod.toml      ← Modメタデータ
    └── items.toml    ← アイテム定義
```

### Step 2: mod.tomlを作成

Modメタデータファイルを作成します。

```toml
[mod]
id = "my_first_mod"
name = "My First Mod"
version = "1.0.0"
author = "Your Name"
description = "Adds diamond ore and related items"

[mod.dependencies]
base = ">=0.3.0"
```

| フィールド | 必須 | 説明 |
|-----------|------|------|
| `id` | はい | 一意の識別子（小文字、アンダースコアOK） |
| `name` | はい | 表示名 |
| `version` | はい | セマンティックバージョン（例: 1.0.0） |
| `dependencies` | いいえ | 依存Mod |

### Step 3: items.tomlを作成

新しいアイテムを定義します。

```toml
# ダイヤモンド鉱石
[[item]]
id = "diamond_ore"
name = "Diamond Ore"
short_name = "DiaO"
description = "Rare ore containing diamonds"
stack_size = 999
category = "ore"
is_placeable = true
hardness = 2.0
color = [0.2, 0.8, 0.9]
tags = ["ore", "rare", "crushable"]

# ダイヤモンド
[[item]]
id = "diamond"
name = "Diamond"
short_name = "Dia"
description = "A brilliant gem for advanced crafting"
stack_size = 999
category = "processed"
is_placeable = false
color = [0.6, 0.95, 1.0]
tags = ["gem", "rare", "valuable"]
```

### Step 4: ゲームを起動

1. Idle Factoryを起動
2. Modが自動で読み込まれる
3. Eキーでインベントリを開く

### Step 5: Modを確認

コンソール（Tキー）を開いて入力:

```
/item list my_first_mod
```

期待される出力:

```
my_first_mod:diamond_ore - Diamond Ore
my_first_mod:diamond - Diamond
```

---

## 次のステップ: レシピを追加

ダイヤモンド鉱石を活用したい? レシピを追加しましょう!

`recipes.toml` を作成:

```toml
[[recipe]]
id = "crush_diamond_ore"
machine = "crusher"
craft_time = 3.0

[recipe.inputs]
diamond_ore = 1

[recipe.outputs]
diamond = 2
```

これでダイヤモンド鉱石を粉砕してダイヤモンドを入手できます!

---

## 次のステップ: 機械を追加

Mod専用の機械を作成できます。

`machines.toml` を作成:

```toml
[[machine]]
id = "gem_polisher"
name = "Gem Polisher"
block_type = "custom"
process_time = 5.0
buffer_size = 32
requires_fuel = false
process_type = "recipe"
machine_type = "gem_polisher"

[machine.ports]
inputs = [{ side = "back", slot_id = 0 }]
outputs = [{ side = "front", slot_id = 0 }]
```

---

## トラブルシューティング

### Modが読み込まれない

- `mod.toml` の構文を確認
- `id` が一意の小文字であることを確認

### アイテムが表示されない

- `category` が有効値か確認: `terrain`, `ore`, `processed`, `machine`, `tool`

### レシピが動作しない

- 入出力アイテムが存在するか確認
- 機械タイプが一致しているか確認

### ログを確認

エラーの詳細は `logs/game.log` を確認してください。

---

## 完全なファイル構成

```
mods/my_first_mod/
├── mod.toml        # 必須
├── items.toml      # 任意
├── machines.toml   # 任意
├── recipes.toml    # 任意
├── textures/       # 任意: PNGファイル
│   └── diamond.png
└── models/         # 任意: GLBファイル
    └── gem_polisher.glb
```

---

## 関連ドキュメント

- **[Mod構造](Mod構造)** - mod.tomlの詳細リファレンス

- **[Data Modガイド](データMod作成)** - TOMLの完全ガイド

- **[TOML Schema](TOML-Schema)** - 全フィールドのリファレンス
