# Infinite Voxel Factory

**自動化と建築に特化した3Dボクセル工場シミュレーションゲーム + データエディタ**

Factorio、Satisfactory、Minecraft (Create Mod) からインスピレーションを得た工場建設ゲーム。プレイヤーはジェットパックで自由に飛行し、広大な3D空間で複雑な自動化システムを構築できます。

> **🤖 AI開発プロジェクト**: このゲームはClaude Code (Anthropic) を使用して開発されています。

[![Rust](https://img.shields.io/badge/rust-stable-orange.svg)](https://www.rust-lang.org)
[![Bevy](https://img.shields.io/badge/bevy-0.15-blue.svg)](https://bevyengine.org)
[![License](https://img.shields.io/badge/license-MIT-green.svg)](LICENSE)

## 🎮 コアコンセプト

### ビジョン
地表の鉱石採掘から始まり、最終的に**軌道上の宇宙ステーション**を建造する壮大な自動化の旅。

### ゲームモード

| モード | 説明 |
|--------|------|
| **クリエイティブ** | 無限リソース、アイテムカタログから自由に取得。設計・テスト向け |
| **サバイバル** | HP、経験値、クエスト。資源を採掘・加工して工場を拡大 |

### 設計思想
- **自動化ファースト** - すべての機能は自動化生産チェーンの構築を支援
- **ジェットパック飛行** - 3D空間を自由に移動、高所建築も容易
- **データ駆動設計** - ブロック、アイテム、レシピはすべてYAML/RONで定義
- **モッディング対応** - Mod SDK搭載、`mods/`ディレクトリから自動読み込み

## 🛠️ Factory Data Architect（エディタ）

ゲームコンテンツを視覚的に編集できるTauriベースのデスクトップアプリケーション。

| エディタ | 機能 |
|----------|------|
| **Items** | アイテム定義（カテゴリ、i18n_key自動生成、ID重複チェック） |
| **Recipes** | React Flowによるノードベースレシピ編集（ドラッグ&ドロップ） |
| **Quests** | メイン/サブクエスト、前提条件、報酬設定 |
| **Multiblock** | React Three Fiberによる3Dグリッド編集（最大10x10x10） |
| **Biomes** | Canvas 2Dによるノイズプレビュー付きバイオーム編集 |
| **Sounds** | オーディオプレビュー付きサウンド設定 |

## 🚀 実装済み機能

### コアシステム
- YAMLベースアセットシステム（ホットリロード対応）
- チャンクシステム（32×32×32ブロック）+ LOD + 非同期生成
- グリーディメッシング最適化
- 固定タイムステップシミュレーション（20 TPS）
- セーブ/ロード（8スロット）
- Mod SDK（マニフェスト、依存解決、自動ロード）

### 工場建設
- グリッドベース機械配置
- コンベアベルト、採掘機、組立機
- 加工機械（プレス機、粉砕機、ソー、ミキサー、伸線機）
- 電力ネットワーク（運動エネルギー伝達、過負荷検出）
- マルチブロック構造
- 流体システム（パイプ、タンク、ポンプ）
- 熱システム（ボイラー、熱伝導、温度要件）
- 振動システム（振動源、防振台）

### オートメーション
- Luaスクリプティング（サンドボックス実行、ホットリロード）
- 信号システム（ワイヤー、論理ゲート：AND/OR/NOT/XOR等）
- 数値処理（加減乗除、比較、等価）

### プレイヤー
- HP、経験値、レベルアップ
- 落下ダメージ、リスポーン
- インベントリシステム（装備5 + メイン24 + ホットバー9スロット）
- クエストシステム（メイン/サブ、進捗、報酬）
- 納品プラットフォーム（クエスト連携）

### ワールド
- 天候システム（晴れ、曇り、雨、嵐）
- 昼夜サイクル（10分で1日）
- 天候による機械効率への影響

### UI/UX
- メインメニュー（Play/Settings/Quit）
- Minecraft風インベントリUI
- クリエイティブモード（アイテムカタログ）
- 設定UI（FPS、マウス感度、各種トグル）
- ホットバーHUD、HP HUD、クエストHUD、ミニマップ
- デバッグオーバーレイ（F3）

## 🎯 基本操作

| アクション | キー |
|----------|------|
| 移動 | WASD |
| 上昇/下降 | Space / Shift |
| ダッシュ | Ctrl |
| インベントリ | E |
| クエスト一覧 | J |
| 設定 | Esc |
| デバッグ | F3 |
| ブロック破壊 | 左クリック長押し |
| ブロック設置 | 右クリック |
| ホットバー選択 | 1-9 / マウスホイール |

## 🏭 機械システム

| 機械 | 機能 |
|------|------|
| **コンベアベルト** | アイテムを1.0ユニット/秒で輸送 |
| **採掘機** | 鉱石を1.0個/秒で無限生成 |
| **組立機** | レシピに基づいて自動クラフト |
| **プレス機** | インゴット → プレート |
| **粉砕機** | 鉱石 → ダスト ×2 |
| **ソー** | 丸太 → 板材 |
| **ミキサー** | 流体タンク付き混合 |
| **伸線機** | プレート → ワイヤー |
| **電力ネットワーク** | 動力源→シャフト→消費機械、過負荷で全停止 |

## 📋 今後の予定

### 近い将来
- ワールドセーブ/ロード（チャンクデータ完全保存）
- サウンドシステム統合
- チュートリアル/ヘルプシステム

### 長期目標
- **宇宙ステーション建造** - 最終目標として軌道上に可視の宇宙ステーションを完成
- **ブループリントシステム** - 工場設計の保存・共有
- **マルチプレイヤー** - 協力プレイ対応

## 🛠️ 技術

| 項目 | 詳細 |
|------|------|
| ゲーム | Rust + Bevy 0.15 (ECS) |
| エディタ | Tauri + React + TypeScript |
| シミュレーション | 20 TPS固定タイムステップ |
| スクリプト | Lua 5.4 (mlua) |
| テスト | 93件 |

## 📄 ライセンス

MIT License

---

**Status**: Phase 5完了 | 開発中
