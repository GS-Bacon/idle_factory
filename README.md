# Ideal Factory Game: Infinite Voxel Factory

理想の工場を築き上げる、自動化と建築シミュレーションゲームです。

このゲームは、Factorio、Satisfactory、Minecraft (Create Mod) から影響を受けています。敵やサバイバル要素は一切なく、純粋な「自動化」と「建築」に特化したゲーム体験を提供します。プレイヤーはジェットパックを装備し、広大な空間で自由に建築を楽しめます。

## 特徴

### 現在実装されている機能 (フェーズ 1-3 完了)

*   **コアゲームプレイ**:
    *   WASDとマウスによる直感的なプレイヤー移動、スペース/シフトキーによる上下移動（ジェットパック）、Ctrlキーによるスプリント。
    *   コンベア、採掘機、組立機などの機械を向きを付けて配置。
    *   コンベアによるアイテム輸送（1.0ユニット/秒、0.25間隔、ベルトあたり最大4アイテム）。
    *   組立機でのレシピに基づいた自動クラフト（前面からの入力、背面への出力、UIでのレシピ選択と進行状況表示）。
    *   20 TPS (Tick Per Second) でのリアルタイムシミュレーション。
*   **データ駆動アーキテクチャ**:
    *   ブロック、アイテム、レシピなどのゲームコンテンツはYAMLファイルで定義。
    *   コンテンツ変更のホットリロード対応。
*   **UIシステム**:
    *   機械を右クリックすることで操作UIを開くことができます。
    *   インベントリの表示。
    *   レシピ選択インターフェース。
*   **高度なメカニクス**:
    *   運動エネルギーに基づいた動力ネットワークシステム（回転速度と負荷を考慮）。グラフベースのネットワーク検出（BFS）と過負荷処理。
    *   マルチブロック構造の検証（パターンマッチング、マスター/スレーブシステム、整合性チェック）。
*   **技術基盤**:
    *   Bevy Engine と Rust 言語で開発。
    *   ECS (Entity Component System) アーキテクチャ。
    *   動的テクスチャアトラス、チャンクシステム、グリディメッシュ、カスタムシェーダー。
    *   マルチプレイヤーの基盤（ヘッドレスサーバー、レプリケーション、クライアント予測）を構築。
    *   インスタンス描画によるアイテムエンティティの最適化。
    *   デバッグオーバーレイ（F3キー）。

### 今後実装予定の機能 (フェーズ 4-5)

*   **フェーズ 4: 高度な自動化とスクリプティング**:
    *   Lua VM 統合: サンドボックス化されたAPIを通じて、プレイヤーがカスタムロジックを記述できるようになります（センサー、アクチュエータ、ロジックゲートなど）。
    *   信号システム: ワイヤーベースの信号伝達、ロジックゲート（AND, OR, NOTなど）、数値信号処理。
*   **フェーズ 5: 最適化と配布**:
    *   マルチスレッド対応: 並列チャンク生成、機械更新、非同期レンダリングによるパフォーマンス向上。
    *   LOD (Level of Detail): 遠距離オブジェクトの詳細度調整。
    *   Modding SDK: Moddingを容易にするためのツールとドキュメントを提供。

### 将来のビジョン

*   **宇宙ステーション建設**: 究極の目標は、壮大な宇宙ステーションを視覚的に構築することです。
*   **ブループリントシステム**: プレイヤーが工場設計を保存し、共有できる機能。
*   **クリエイティブ/サバイバルモード**: さまざまなゲームプレイ体験を提供。
*   **コミュニティMod**: 活発なModdingエコシステムの構築。

このゲームは、データ駆動型でモッディングしやすい設計を重視し、プレイヤーが自由に大規模で複雑な工場を建設できることを目指しています。
