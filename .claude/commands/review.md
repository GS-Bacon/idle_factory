# /review - 批判的レビュー生成

ゲーム全体を批判的な目線で辛口レビューし、改善点を抽出するスキル。

## 使用方法

- `/review` - フルレビュー（全カテゴリ）
- `/review ui` - UI/UXのみレビュー
- `/review gameplay` - ゲームプレイのみレビュー
- `/review code` - コード品質のみレビュー
- `/review performance` - パフォーマンスのみレビュー
- `/review compare` - 競合ゲームとの比較レビュー
- `/review history` - 過去のレビュー履歴を表示
- `/review fix` - 最新レビューの改善点を実装

## 引数: $ARGUMENTS

## レビュー観点

### 1. UI/UX（辛口度: ★★★★★）
- **一貫性**: フォント、色、間隔、ボタンサイズは統一されているか？
- **直感性**: 初見で何をすべきか分かるか？説明なしで操作できるか？
- **フィードバック**: 全ての操作に即座の反応があるか？
- **エラー耐性**: 間違った操作をしても壊れないか？
- **アクセシビリティ**: 色覚異常、キーリマップ、フォントサイズ対応は？

### 2. ゲームプレイ（辛口度: ★★★★★）
- **チュートリアル**: 自然に学べるか？強制的で退屈ではないか？
- **ゲームループ**: 繰り返しても飽きないか？報酬サイクルは適切か？
- **バランス**: 簡単すぎ/難しすぎないか？進行速度は適切か？
- **自由度**: プレイヤーの選択肢は十分か？制限が多すぎないか？
- **達成感**: 目標達成時の満足感はあるか？

### 3. コード品質（辛口度: ★★★★☆）
- **アーキテクチャ**: 設計は適切か？技術的負債はないか？
- **パフォーマンス**: 明らかなボトルネックはないか？
- **テスト**: カバレッジは十分か？重要な機能はテストされているか？
- **保守性**: 他の開発者が理解できるか？ドキュメントは十分か？

### 4. 競合比較（辛口度: ★★★★★）
- **Factorio**: 自動化の深さ、ベルトの挙動、回路ネットワーク
- **Satisfactory**: 3D建築、探索要素、見た目の美しさ
- **Minecraft**: 直感的な操作、クラフトシステム、自由度
- **Shapez**: シンプルさ、学習曲線、パズル要素

## 実行手順

### 1. 情報収集

```bash
# コードベース分析
wc -l src/**/*.rs
cargo clippy 2>&1 | head -50
cargo test --lib 2>&1 | tail -20

# E2Eテスト実行
DISPLAY=:10 timeout 60 cargo run -- --e2e-test

# レポート確認
cat screenshots/test_report.txt
cat screenshots/ui_dump_*.txt
```

### 2. レビュー生成

以下のプロンプトを使用:

```markdown
# 批判的ゲームレビュー

あなたは**辛口のゲームレビュアー**です。
お世辞は一切不要。問題点を容赦なく指摘してください。

## 評価基準
- S: 業界トップレベル（稀）
- A: 競合と同等以上
- B: 及第点だが改善余地あり
- C: 明らかな問題あり
- D: 根本的な見直しが必要
- F: 致命的な欠陥

## コアコンセプト（これは変えない前提で評価）
- creative-sandbox: 戦闘なし、敵なし
- stress-free: 急がされない、ペナルティなし

## レビュー対象
{target_info}

## 出力形式

### 総合評価: [S/A/B/C/D/F]

### カテゴリ別評価
| カテゴリ | 評価 | 一言 |
|---------|------|------|
| UI/UX | ? | ... |
| ゲームプレイ | ? | ... |
| コード品質 | ? | ... |
| 競合比較 | ? | ... |

### 致命的な問題（今すぐ直すべき）
1. ...

### 重大な問題（近いうちに直すべき）
1. ...

### 改善推奨（余裕があれば）
1. ...

### 良い点（お世辞ではなく本当に良い点のみ）
- ...

### 競合との差別化ポイント
- 勝っている点: ...
- 負けている点: ...
- 独自性: ...
```

### 3. レポート保存

`feedback/reviews/YYYY-MM-DD_review.md` に保存

### 4. 改善タスク生成

致命的・重大な問題を `feedback/pending/` に追加

### 5. 傾向追跡

`feedback/reviews/trends.md` を更新

## 定期実行の推奨

| タイミング | 実行コマンド |
|-----------|-------------|
| 機能追加後 | `/review` |
| 週次 | `/review` |
| リリース前 | `/review compare` |
| バグ修正後 | `/review ui gameplay` |

## レビュー履歴管理

```
feedback/reviews/
├── 2025-12-25_review.md      # 日次レビュー
├── 2025-12-25_ui_review.md   # カテゴリ別
├── trends.md                  # 傾向分析
└── action_items.md            # 未対応の改善点
```

## 辛口レビューの心得

1. **お世辞禁止**: 「良いですね」「素晴らしい」は本当にそう思う時だけ
2. **具体的に**: 「UIが悪い」ではなく「インベントリボタンが見つけにくい」
3. **比較で語る**: 「Factorioでは〇〇だが、このゲームでは△△」
4. **優先度明確に**: 致命的/重大/推奨の3段階で分類
5. **解決策も示す**: 問題指摘だけでなく、どう直すべきかも提案

## 改善実装

`/review fix` で最新レビューの改善点を実装:

1. `feedback/reviews/` の最新レビューを読む
2. 致命的・重大な問題を抽出
3. 自動実装可能なものは実装
4. 手動対応が必要なものは `issues.md` に追加
5. 実装後に再レビューで効果を確認

## 注意事項

- コアコンセプト（stress-free, creative-sandbox）は変えない
- 批判は建設的に、ただし遠慮なく
- 数値やスクリーンショットで根拠を示す
- 「自分がプレイヤーだったら」の視点を忘れない
